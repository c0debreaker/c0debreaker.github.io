<!doctype html>
<head>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-resource.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-route.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-cookies.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-animate.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-sanitize.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.min.js"></script>
    <script>

        angular.module('myApp', [])
                .controller('myCtrl', function ($scope, $http, $window) {

                    $scope.auth = { token : '3066b65a-4a17-47a6-9f42-7f3212c77da8', tokenresourceid : 'EQMSDKQDOW2X8582' };

                    $scope.sendPost = function() {

                        $http({
                            url: 'https://integration-baam.zatar.com/avatarids',
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            data: {
                                "userresourceid" : "XXFCXGDJSUQISPDZ",
                                "token" : $scope.auth.token,
                                "tokenresourceid" : $scope.auth.tokenresourceid,
                                "startdate" : "2014-05-05",
                                "enddate" : "2014-05-06",
                                "mode" : "month",
                                "avatarIdCollection": [
                                    "-7829701006451461057", "-2984738528086049257", "-5090762470243487449", "-3955313771749560179"
                                ]
                            }
                        }).success(function(data, status, headers, config) {
                                    console.log(data);
                                    $window.location.href = data.chartUrl;
                        }).error(function(data, status, headers, config) {
                                    document.write("Uh-oh, that's not good!!!<br/>");
                                    document.write("HTTP ERROR CODE: " + data.statuscode + " HTTP ERROR MESSAGE: " + data.message);
                                    document.write("<br/><br/>It failed because the hardcoded token and token resource id have already expired!")
                                    console.log(data);
                        });
                    }
                })
    </script>
</head>
<body ng-app="myApp">
<div ng-controller="myCtrl">
    <form ng-submit="sendPost()">
        <h1>Third Party Application Transitioning to QA BAAM-UI Application</h1>
        This will submit json formatted data to https://integration-baam.zatar.com/avatarids using POST method.<br/>
        <br/>
        Token:<input name="auth.token" ng-model="auth.token"><br/>
        Token ResourceID:<input name="auth.tokenresourceid" ng-model="auth.tokenresourceid"><br/><br/>
        data: {<br/>
        "userresourceid" : "XXFCXGDJSUQISPDZ",<br/>
        "token" : {{auth.token}},<br/>
        "tokenresourceid" : {{auth.tokenresourceid}},<br/>
        "startdate" : "2014-05-05",<br/>
        "enddate" : "2014-05-06",<br/>
        "mode" : "month",<br/>
        "avatarIdCollection": [<br/>
        "-7829701006451461057", "-2984738528086049257", "-5090762470243487449", "-3955313771749560179"<br/>
        ]<br/>
        }<br/>

        <button type="submit">Submit Avatar IDs</button>
    </form>

</div>
</body>
</html>
